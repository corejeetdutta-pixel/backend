#######################################
# === Application Profile (PROD) ===
#######################################
spring.application.name=recruitment
spring.profiles.active=prod

#######################################
# === Database (Render/Postgres) ===
#######################################
spring.datasource.url=${DB_URL}            # Example: jdbc:postgresql://<host>:5432/<db>?sslmode=require
spring.datasource.username=${DB_USER}      # Set in environment
spring.datasource.password=${DB_PASSWORD}  # Set in environment
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update       # For PROD you may switch to "validate" for safety
spring.jpa.show-sql=false                  # Hide SQL logs in prod

# Enforce SSL
spring.datasource.hikari.data-source-properties.sslmode=require

#######################################
# === JSON & Multipart Config (PROD) ===
#######################################
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB

# Static uploads folder
spring.web.resources.static-locations=file:uploads/

#######################################
# === Mail Configuration (PROD) ===
#######################################
spring.mail.host=${MAIL_HOST}              # Example: smtp.gmail.com
spring.mail.port=${MAIL_PORT}              # Example: 587
spring.mail.username=${MAIL_USER}          # Env var
spring.mail.password=${MAIL_PASSWORD}      # Env var (App password)
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.protocol=smtp
spring.mail.debug=false                    # Disable debug logs in prod

#######################################
# === Together.AI / OpenAI Config (PROD) ===
#######################################
together.api.key=${TOGETHER_API_KEY}
spring.ai.openai.api-key=${OPEN_API_KEY}
spring.ai.openai.base-url=${TOGETHER_API_URL}   # https://api.together.xyz/v1/chat/completions

#######################################
# === AI (Optional: Ollama local, disabled in prod) ===
#######################################
# spring.ai.ollama.base-url=http://localhost:11434
# spring.ai.ollama.chat.options.model=mistral
# spring.ai.ollama.chat.options.temperature=0.4
# spring.ai.ollama.connect-timeout=10s
# spring.ai.ollama.read-timeout=60s
