# ================================
# Application
# ================================
spring.application.name=recruitment
spring.profiles.active=dev

# ================================
# Database (Render PostgreSQL)
# ================================
spring.datasource.url=jdbc:postgresql://dpg-d2s6sq63jp1c739ndii0-a.oregon-postgres.render.com:5432/recruitment_db_6dgv
spring.datasource.username=recruitment_db_6dgv_user
spring.datasource.password=WXYWVE4pNdYbxem5msNGZ90l0A9GutcO
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Enforce SSL for Render PostgreSQL
spring.datasource.hikari.data-source-properties.sslmode=require

# ================================
# Session
# ================================
spring.session.jdbc.initialize-schema=always
spring.session.jdbc.table-name=SPRING_SESSION
spring.session.timeout=30m

# ================================
# File Uploads
# ================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB

# Static file storage (uploads folder)
spring.web.resources.static-locations=file:uploads/

# ================================
# JSON Serialization
# ================================
spring.jackson.serialization.fail-on-empty-beans=false

# ================================
# Mail Configuration (Gmail SMTP)
# ================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USER}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.protocol=smtp
spring.mail.debug=true

# ================================
# Security
# ================================
system.admin.key=Admin

# ================================
# Resilience4j - Rate Limiter
# ================================
resilience4j.ratelimiter.configs.default.limitForPeriod=1
resilience4j.ratelimiter.configs.default.limitRefreshPeriod=1s
resilience4j.ratelimiter.configs.default.timeoutDuration=2s

# Retry settings
resilience4j.retry.configs.default.maxAttempts=3
resilience4j.retry.configs.default.waitDuration=1s

# ================================
# Together.AI + OpenAI
# ================================
together.api.key=${TOGETHER_API_KEY}
spring.ai.openai.api-key=${OPEN_API_KEY}
spring.ai.openai.base-url=${TOGETHER_API_URL}   # https://api.together.xyz/v1/chat/completions
